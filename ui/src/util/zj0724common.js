!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.zj0724common=e():t.zj0724common=e()}(window,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"variable",(function(){return r})),i.d(e,"http",(function(){return a}));var r={isNull:t=>null==t,isEmpty(t){if(this.isNull(t))return!0;let e=this.getType(t);return e===String&&""===t||(e===Array&&0===t.length||e===Object&&0===Object.keys(t).length)},getType(t){return this.isNull(t)?null:t.constructor},isObject(t){if(this.isNull(t))return!1;if(t instanceof Object){let e=this.getType(t);return 0===e.toString().indexOf("class")||e===Object}return!1},clone(t){if(this.isObject(t)){let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];this.isObject(r)?e[i]=this.clone(r):e[i]=null}return this.assignment(e,t),e}return this.isNull(t)?null:t},assignment(t,e,i){let r=this.getType(t);if(this.isObject(t)&&this.isObject(e))if(r===Array){t.splice(0,t.length);for(let i of e)t.push(this.clone(i))}else for(let r in t)if(t.hasOwnProperty(r)){let s=t[r],n=e[r];if(void 0===n)continue;this.isObject(s)?this.getType(s)===this.getType(n)?this.assignment(s,n):!this.isNull(i)&&this.getType(i)===Boolean&&i||(t[r]=this.clone(n)):!this.isNull(i)&&this.getType(i)===Boolean&&i?(this.isNull(s)||this.getType(s)===this.getType(n))&&(t[r]=this.clone(n)):t[r]=this.clone(n)}},toStr(t){return this.isNull(t)?null:this.isObject(t)?JSON.stringify(t):t.toString()},clean(t){if(this.isObject(t))for(let e in t)if(t.hasOwnProperty(e)){let i=t[e];this.getType(i)===Array?t[e]=[]:this.isObject(i)?this.clean(i):t[e]=null}}};class s extends Error{constructor(t){super(t)}}let n=[String,Number,Object,Array,Boolean];class l{constructor(t){if(this.url=null,this.type=null,this.header=null,this.urlData=null,this.data=null,this.check={urlData:null,data:null},r.assignment(this,t),r.isEmpty(this.url))throw new s("url不能为空");if(r.isEmpty(this.type))throw new s("type不能为空");if("get"===this.type&&(this.type="GET"),"post"===this.type&&(this.type="POST"),"put"===this.type&&(this.type="PUT"),"delete"===this.type&&(this.type="DELETE"),"POST"!==this.type&&"GET"!==this.type&&"PUT"!==this.type&&"DELETE"!==this.type)throw new s("type错误");if(!r.isNull(this.header)){if(!r.isObject(this.header))throw new s("header错误");for(let t in this.header)this.header.hasOwnProperty(t)&&(this.header[t]=r.toStr(this.header[t]))}if(!r.isNull(this.urlData)&&!r.isObject(this.urlData))throw new s("urlData错误");if(!r.isNull(this.check.urlData)){if(!l.withType(this.check.urlData))throw new s("check.urlData错误");let t=l.getNewData(this.check.urlData);r.assignment(t,this.urlData,!0),this.urlData=t}if(!r.isNull(this.check.data)){if(!l.withType(this.check.data))throw new s("check.data错误");let t=l.getNewData(this.check.data);r.assignment(t,this.data),this.data=t}if(!r.isNull(this.urlData)){let t="?";for(let e in this.url)if(this.url.hasOwnProperty(e)){let i=this.url[e];r.isNull(i)||(i=r.toStr(i),t=t+e+"="+i+"&")}"?"!==t&&(t=""),this.url=this.url+t}if(null!==this.data){let t=!1;for(let e in this.data)if(this.data.hasOwnProperty(e)&&r.getType(this.type)===File){t=!0;break}if(t){let t=new FormData;for(let e in this.data)this.data.hasOwnProperty(e)&&t.append(e,this.data[e]);this.data=t}else this.data=r.toStr(this.data)}}static withType(t){if(!r.isObject(t))return!1;for(let e in t)if(t.hasOwnProperty(e)){let i=t[e];if(r.isObject(i)){if(!l.withType(i))return!1}else{let t=!1;for(let e of n)e===i&&(t=!0);if(!t)return!1}}return!0}static getNewData(t){let e={};for(let i in t)if(t.hasOwnProperty(i)){let s=t[i];r.isObject(s)?e[i]=l.getNewData(s):e[i]=null}return e}}var a={send:t=>new Promise(e=>{let i=new l(t),s=new XMLHttpRequest;if(s.open(i.type,i.url),!r.isNull(i.header))for(let t in i.header)i.header.hasOwnProperty(t)&&s.setRequestHeader(t,i.header[t]);r.isNull(i.data)?s.send():s.send(i.data),s.onreadystatechange=function(){200===s.status&&4===s.readyState&&e(s.response)}})}}])}));